# Storage Service

## Introduction
The Storage Service in the "Multilingual Podcast Translation Service" project manages the storage and retrieval of translated text and audio files.
This service utilizes Google Cloud Storage to ensure that data generated by the translation processes is securely stored and readily accessible.

## Setup Instructions

### Prerequisites
- Google Cloud Platform (GCP) account with billing enabled.
- Configured `kubectl` command-line tool with access to your Kubernetes cluster.
- Google Cloud SDK (`gcloud`) installed and configured on your machine.

### Configuration and Deployment
Please make the changes mentioned below as noted in the respective `.sh` file.

#### 1. Creating a Storage Bucket
Create a Google Cloud Storage bucket to store translated text and audio files.
*Note: Modify the bucket name and location as necessary.*

#### 2. Setting Bucket Permissions
Assign the necessary permissions to your service account to interact with the storage bucket.
*Note: Ensure the service account and bucket name match your configuration.*

#### 3. Creating a Kubernetes Secret for Service Account
Create a Kubernetes secret to securely store the service account key that will be used by your application running on Kubernetes.
*Note: Replace the path with the path to your service account key.*

#### 4. Deploying Storage Service to Kubernetes Cluster
Build and deploy the Storage Service using the provided Makefile and Kubernetes configuration files.
*Note: Adjust the paths in the commands according to the location of your files.*

## Modifications
- **File Paths**: Modify any file paths in the script to match the directory structure on your machine where the necessary files are located.

### Using the Script
To execute the setup for the Storage Service, navigate to the directory containing `storage.sh` and run the script:
Ensure you have execution permissions set on the script:
```bash
chmod +x storage.sh
```

```bash
./storage.sh
```


### Testing the Service
To ensure that the Storage Service is functioning correctly, you can perform a simple test using port-forwarding and curl to interact with the service.

1. **Port-forwarding**:
   Use kubectl to forward a local port to the service:
   ```bash
   kubectl port-forward deployment/storage-service 8080:8080
   ```

## Conclusion
After completing the setup and testing steps, the Storage Service will be fully operational, capable of handling requests for storing and retrieving data securely and efficiently. This service is crucial for the overall functionality of the "Multilingual Podcast Translation Service" project, providing a robust backend for data management.
